# onionpress Configuration
# This file is automatically copied to ~/.onionpress/config on first run

# Onion Address Prefix
# Default: "op2" (generates addresses like op2xxxxxxxxxxxxx.onion)
#
# You can customize this to any lowercase alphanumeric string.
# Note: Only base32 characters allowed (a-z, 2-7). Numbers 0, 1, 8, 9 are not valid.
# Maximum 5 characters. Longer prefixes take exponentially longer to generate:
# - 2 chars (op): < 1 second
# - 3 chars (op2): < 1 second
# - 4 chars (op24): 5-30 seconds
# - 5 chars (op2aa): 10-30 minutes
#
# To change your prefix, edit this value and restart OnionPress.
# You will be prompted to confirm the change (your old address will stop working).
#
ADDRESS_PREFIX=op2

# Internet Archive Wayback Machine Link Fixer Plugin
# Default: "yes" (automatically installs and activates the plugin)
#
# The Internet Archive Wayback Machine Link Fixer plugin helps combat link rot by:
# - Automatically scanning your posts for outbound links
# - Creating archived versions in the Wayback Machine
# - Redirecting to archived versions when links break
# - Archiving your own posts on every update
#
# Set to "no" to disable automatic installation of this plugin.
# More info: https://wordpress.org/plugins/internet-archive-wayback-machine-link-fixer/
#
INSTALL_IA_PLUGIN=yes

# Update Docker Images on Launch
# Default: "no" (manual updates only via Check for Updates menu)
#
# When enabled, onionpress will automatically check for and download updated
# WordPress, MariaDB, and Tor container images when the app launches.
# This ensures you have the latest security patches and features.
#
# Set to "yes" to enable automatic updates on launch.
# Note: Updates only occur when containers are stopped.
#
UPDATE_ON_LAUNCH=no

# Launch on Login
# Default: "no" (manual launch required)
#
# When enabled, OnionPress will automatically start when you log in to macOS.
# The app will appear in your menu bar and your WordPress site will start automatically.
#
# Set to "yes" to launch on login.
# Note: You can also manage this in System Settings → General → Login Items
#
LAUNCH_ON_LOGIN=no

# Prevent Mac Sleep While Running (AC Power Only)
# Default: "yes" (keeps Mac awake when plugged in)
#
# When enabled, OnionPress will prevent your Mac from sleeping while the
# WordPress + Tor service is running AND you're plugged into AC power.
# This ensures your .onion site remains accessible 24/7 when connected to power.
#
# IMPORTANT: On battery power, your Mac will sleep normally to preserve battery.
# Your site will go offline when running on battery and Mac sleeps.
#
# Uses the built-in 'caffeinate' command with -s flag (AC power only).
# Display sleep is not affected - screen can still turn off.
#
# Set to "no" to allow your Mac to sleep even when plugged in.
#
PREVENT_SLEEP=yes

# Virtual Machine Memory (GB)
# Default: 1 (1 GB RAM for the container VM)
#
# The Linux VM that runs WordPress, Tor, and MariaDB containers.
# 1 GB is sufficient for normal use. Increase if you run many plugins
# or experience out-of-memory issues.
#
# Requires restart to take effect.
#
VM_MEMORY=1

# Cloudflare Tunnel (Clearnet Access)
# Expose your WordPress site on the regular internet with HTTPS via Cloudflare Tunnel.
#
# PRIVACY NOTE: This reveals your Mac's IP address to Cloudflare. Your site is
# no longer anonymous — Cloudflare (and potentially law enforcement via Cloudflare)
# can identify the origin server. Only enable this if you are comfortable with that.
#
# AVAILABILITY NOTE: Unlike the .onion address (where Tor + Wayback Machine provides
# a fallback when your Mac is offline), clearnet access requires your Mac to be
# running OnionPress continuously. When your Mac sleeps or OnionPress is stopped,
# the clearnet URL will be unreachable.
#
# Setup:
# 1. Create a free Cloudflare account and add your domain
# 2. Go to Zero Trust > Networks > Tunnels > Create a tunnel
# 3. Set the tunnel service to http://wordpress:80
# 4. Copy the tunnel token and paste it below
# 5. Restart OnionPress
# Your .onion address continues to work alongside the clearnet domain.
CLOUDFLARE_TUNNEL_TOKEN=

# Register with OnionCellar
# Default: "yes" (register this site with the OnionCellar)
#
# When enabled, OnionPress will register your site with the OnionCellar
# so it can help redirect page requests to the Internet Archive's Wayback
# Machine as a fallback when your Mac is offline. Set to "no" to opt out.
#
REGISTER_WITH_CELLAR=yes
