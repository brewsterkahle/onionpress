#!/bin/bash

# OnionPress CLI tool

SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
LAUNCHER="$SCRIPT_DIR/onionpress"

case "${1:-help}" in
    start)
        echo "Starting OnionPress..."
        "$LAUNCHER" start
        ;;
    stop)
        echo "Stopping OnionPress..."
        "$LAUNCHER" stop
        ;;
    restart)
        echo "Restarting OnionPress..."
        "$LAUNCHER" restart
        ;;
    status)
        echo "Checking status..."
        "$LAUNCHER" status
        ;;
    address)
        ADDR=$("$LAUNCHER" address)
        echo "Your onion address:"
        echo "$ADDR"
        echo ""
        echo "Access your WordPress site with Tor Browser at:"
        echo "http://$ADDR"
        ;;
    logs)
        "$LAUNCHER" logs
        ;;
    *)
        cat <<EOF
OnionPress - WordPress + Tor Onion Service

Usage: onionpress-cli [command]

Commands:
  start     - Start WordPress and Tor containers
  stop      - Stop all containers
  restart   - Restart all containers
  status    - Show container status
  address   - Show your .onion address
  logs      - View container logs

Examples:
  onionpress-cli start
  onionpress-cli address
  onionpress-cli logs

Your WordPress site will be available at:
  - Via Tor: http://[your-onion-address].onion
  - Locally (testing): http://localhost:8080

EOF
        ;;
esac
